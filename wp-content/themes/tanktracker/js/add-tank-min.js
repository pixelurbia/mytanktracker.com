$(document).ready(function(){Object.entries=function(a){var e=Object.keys(a),n=e.length,t=new Array(n)
while(n--)t[n]=[e[n],a[e[n]]]
return t}
$("#skip-add-tank").click(function(){a()})
$(".add-tank").click(function(){$(".add-tank-form").toggleClass("extended")
$(".overlay").fadeToggle()
$(".menu-bar").toggleClass("extended-more")})
$("#tank-form").submit(function(e){e.preventDefault()
if(!$("#tank-form .tank-name").val()){$(".global-error").html("Your tank needs a name.")
$(".global-error").addClass("show")
return}else $(".global-error").removeClass("show")
var n=$("#regi-form .username").val()
$("#tank-form .verfication").attr("value",n)
console.log($("#tank-form .verfication").val())
var t=new FormData
var o=$("#tank-form").serializeArray()
$.each(o,function(a,e){t.append(e.name,e.value)})
var i=$("#tank-img")[0].files[0]
t.append("file",i)
$(".overlay").after('<div class="ias-spinner-idea spinner-loader" style="text-align: center; position:fixed; top:25%; left:0; right:0; margin:0 auto; z-index:9999999999;"><img src="https://loading.io/spinners/gooeyring/index.gooey-ring-spinner.svg"/></div>')
$.ajax({url:ajaxurl,method:"post",processData:false,contentType:false,data:t,success:function(e){a()},error:function(a){}})})
function a(){$(".frost").fadeOut()
$(".step-three").delay(400).fadeIn()
setTimeout(function(){window.location="/tanks/"},1500)}$(".global-message").on("click",".tank-confirmation-btn",function(){var a=$(this).attr("tank_id"),e=$(this).attr("nonce"),n=$(this).attr("parent").parent=$("."+n)
data={action:"del_tank",ajax_form_nonce_del_tank:e,tank_id:a}
console.log(data)
$.ajax({url:ajaxurl,method:"post",data:data,success:function(a){console.log(a)
$(".removeTank").remove()
closeGlobalMessage()},error:function(a){console.log("Eror 0937")}})})
$(".wrap").on("click",".delete-tank",function(){var a=$(this).attr("tank_id"),e=$(this).attr("param_id"),n=$(this).attr("nonce")
$(this).parent().parent().parent().addClass("removeTank")
$(".global-message .message").text("Are you sure you want to delete this entry and all of it's associated data? This includes, images, posts, favs, parameters and livestock. This cannot be undone.")
$(".confirmation-btn").attr("tank_id",a)
$(".confirmation-btn").attr("nonce",n)
$(".confirmation-btn").attr("parent",parent)
$(".confirmation-btn").addClass("tank-confirmation-btn")
$(".message-action").addClass("tank-message-action")
$(".global-message").fadeToggle()
$(".overlay").fadeToggle()})
$(".edit-tank").click(function(){var a=$(this).parent().parent()
if(a.find("span").hasClass("hide")){a.find("span.hide i").text("Edit Value")
a.find("span.hide").addClass("new-value")
a.find("span").removeClass("hide")}a.find(".tank_info").attr("contenteditable","true")
a.find(".tank_info").toggleClass("tankEditable")
$(this).hide()
a.find(".save-edit-tank").show()
a.find(".delete-tank").show()
a.parent().find(".image-change").show()})
$(".save-edit-tank").click(function(){var e=$(this).attr("tank_id"),n=$(this).attr("nonce"),t=$(this).parent().parent(),o=t.find(".tank_name").text(),i=t.find(".tank_volume").text(),r=t.find(".tank_dimensions").text(),s=t.find(".tank_model").text(),l=t.find(".tank_make").text()
$(".overlay").after('<div class="ias-spinner-idea spinner-loader" style="text-align: center; position:fixed; top:25%; left:0; right:0; margin:0 auto; z-index:9999999999;"><img src="https://loading.io/spinners/gooeyring/index.gooey-ring-spinner.svg"/></div>')
data={action:"update_user_tank",ajax_form_nonce_update_tank:n,tank_id:e,tank_name:o,tank_volume:i,tank_dimensions:r,tank_model:s,tank_make:l}
console.log(data)
$.ajax({url:ajaxurl,method:"post",data:data,success:function(e){console.log("Entry Updated")
a()},error:function(a){console.log("Eror 976524")}})})
$(".tank-photo-img").change(function(e){e.preventDefault()
console.log("hello from the other side")
var n=$(this).parent().parent()
var t=new FormData
$(".overlay").after('<div class="ias-spinner-idea spinner-loader" style="text-align: center; position:fixed; top:25%; left:0; right:0; margin:0 auto; z-index:9999999999;"><img src="https://loading.io/spinners/gooeyring/index.gooey-ring-spinner.svg"/></div>')
console.log(n)
var o=n.serializeArray()
$.each(o,function(a,e){t.append(e.name,e.value)})
var i=n.find(".tank-photo-img")[0].files[0]
t.append("file",i)
$.ajax({url:ajaxurl,method:"post",processData:false,contentType:false,data:t,success:function(e){console.log(e)
console.log("working")
a()},error:function(a){console.log(t)
console.log("error")}})})})
