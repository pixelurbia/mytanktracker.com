$(document).ready(function(){Object.entries=function(e){var t=Object.keys(e),o=t.length,a=new Array(o)
while(o--)a[o]=[t[o],e[t[o]]]
return a}
$(".stock-next-step").click(function(){$("#livestock-form .step-one").fadeToggle("fast")
$("#livestock-form .step-two").fadeToggle("slow")})
$(".stock-prev-step").click(function(){$("#livestock-form .step-one").fadeToggle("slow")
$("#livestock-form .step-two").fadeToggle("fast")})
$(".stock-message-action").click(function(){var e=$(this).attr("stock_id")
var t=$(this).attr("nonce")
console.log("stock-message-action")
$(".global-message .message").text("Are you sure you want to delete this entry?")
$(".confirmation-btn").attr("stock_id",e)
$(".confirmation-btn").attr("nonce",t)
$(".confirmation-btn").addClass("stock-confirmation-btn")
$(".message-action").addClass("stock-message-action")
$(".global-message").fadeToggle()
$(".overlay").fadeToggle()})
$(".global-message").on("click",".stock-confirmation-btn",function(){var t=$(this).attr("nonce")
var o=$(this).attr("stock_id")
data={action:"del_livestock",ajax_form_nonce_del_stock:t,stock_id:o}
console.log(data)
$.ajax({url:ajaxurl,method:"post",data:data,success:function(t){console.log("Entry Deleted")
e()},error:function(e){console.log("Eror 8373")}})})
$("#stock_filter a").click(function(){$(this).parent().find(".current").removeClass("current")
$(this).addClass("current")
var e=$(this).attr("value")
var t=$(this).parent().attr("tank_id")
$(".overlay").after('<div class="ias-spinner-idea spinner-loader" style="text-align: center; position:fixed; top:25%; left:0; right:0; margin:0 auto; z-index:9999999999;"><img src="https://loading.io/spinners/gooeyring/index.gooey-ring-spinner.svg"/></div>')
data={action:"list_of_stock",tank_id:t,stock_type:e}
console.log(data)
$.ajax({url:ajaxurl,method:"post",data:data,success:function(e){$(".stock-list").html(e)
$(".spinner-loader").remove()},error:function(e){console.log("Eror 3439")}})})
$(".add-livestock").click(function(){$(".add-livestock-form").toggleClass("extended")
$(".overlay").fadeToggle()
$(".menu-bar").toggleClass("extended-more")})
$("#livestock-form").submit(function(t){t.preventDefault()
if(!$("#livestock-form .stock-name").val()){$(".global-error").html("Your livestock needs a name.")
$(".global-error").addClass("show")
return}else $(".global-error").removeClass("show")
var o=new FormData
var a=$("#livestock-form").serializeArray()
$.each(a,function(e,t){o.append(t.name,t.value)})
var s=$("#Livestock-output").attr("src")
o.append("file",s)
$.ajax({url:ajaxurl,method:"post",processData:false,contentType:false,data:o,success:function(t){console.log(t)
e()},error:function(e){console.log(o)}})})
$(".edit-stock").click(function(){var e=$(this).parent()
if(e.find("li").hasClass("hide")){e.find("li.hide span").text("Edit Value")
e.find("li.hide").addClass("new-value")
e.find("li").removeClass("hide")}e.find("li span").attr("contenteditable","true")
e.find("li span").toggleClass("tankEditable")
$(this).hide()
e.find(".save-tank-stock").removeClass("hide")
e.find(".del-stock").removeClass("hide")
e.find(".stock-update-img").removeClass("hide")})
$(".save-tank-stock").click(function(){$("li.new-value span").each(function(){if("Edit Value"==$(this).text())$(this).text("")})
var t=$(this).attr("stock_id"),o=$(this).attr("nonce"),a=$(this).parent(),s=a.find(".name span").text(),n=a.find(".species span").text(),i=a.find(".age span").text(),r=a.find(".status span").text(),l=a.find(".sex span").text(),c=a.find(".count span").text()
$(".overlay").after('<div class="ias-spinner-idea spinner-loader" style="text-align: center; position:fixed; top:25%; left:0; right:0; margin:0 auto; z-index:9999999999;"><img src="https://loading.io/spinners/gooeyring/index.gooey-ring-spinner.svg"/></div>')
data={action:"update_user_stock",ajax_form_nonce_save_stock:o,stock_id:t,stock_name:s,stock_species:n,stock_age:i,stock_status:r,stock_sex:l,stock_count:c}
console.log(data)
$.ajax({url:ajaxurl,method:"post",data:data,success:function(t){console.log(t)
console.log("Entry Updated")
e()},error:function(e){console.log("Eror 8937987")}})})
$(".stock-photo-img").change(function(t){t.preventDefault()
console.log("hello from the other side")
var o=$(this).parent().parent()
var a=new FormData
$(".overlay").after('<div class="ias-spinner-idea spinner-loader" style="text-align: center; position:fixed; top:25%; left:0; right:0; margin:0 auto; z-index:9999999999;"><img src="https://loading.io/spinners/gooeyring/index.gooey-ring-spinner.svg"/></div>')
console.log(o)
var s=o.serializeArray()
$.each(s,function(e,t){a.append(t.name,t.value)})
var n=o.find(".stock-photo-img")[0].files[0]
a.append("file",n)
$.ajax({url:ajaxurl,method:"post",processData:false,contentType:false,data:a,success:function(t){console.log(t)
console.log("working")
e()},error:function(e){console.log(a)
console.log("error 9890890")}})})
function e(){setTimeout(function(){location.reload()},500)}})
